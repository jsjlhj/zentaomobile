/*!
 * ZUI for mobile - v0.1.0-beta - 2014-11-18
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2014 cnezsoft.com; Licensed MIT
 */

/* Some code copy from ratchet v2.0.2 (Copyright (c) 2014 connors and other contributors. Licensed under http://www.apache.org/licenses/)*/

!function(){"use strict";console.options={DEBUG:1};var a={h1:"font-size: 28px; font-weight: bold;",h2:"font-size: 24px; font-weight: bold;",h3:"font-size: 20px; font-weight: bold;",h4:"font-size: 16px; font-weight: bold;",h5:"font-size: 14px; font-weight: bold;",h6:"font-size: 12px; font-weight: bold;",success:"color: green; border-left: 10px solid green; padding-left: 5px;",danger:"color: red; border-left: 10px solid red; padding-left: 5px;",warning:"color: orange; border-left: 10px solid orange; padding-left: 5px;",info:"color: blue; border-left: 10px solid blue; padding-left: 5px;",muted:"color: gray; border-left: 10px solid gray; padding-left: 5px;",u:"text-decoration: underline;",bd:"border: 1px solid #ddd",bgsuccess:"color: #fff; background: green; padding: 2px 5px;",bgdanger:"color: #fff; background: red; padding: 2px 5px;",bgwarning:"color: #fff; background: orange; padding: 2px 5px;",bginfo:"color: #fff; background: blue; padding: 2px 5px;",bgmuted:"color: #fff; background: gray; padding: 2px 5px;",bdsuccess:"border:1px solid green;",bddanger:"border:1px solid red;",bdwarning:"border:1px solid orange;",bdinfo:"border:1px solid blue;",bdmuted:"border:1px solid gray;",strong:"font-weight: bold;",small:"font-size: 0.85em"},b={};["log","info","warn","error","groupCollapsed","groupEnd","group"].forEach(function(a){b[a]=console[a],console[a]=function(){console.options.DEBUG&&b[a].apply(this,arguments)}}),console.color=function(c,d){if(console.options.DEBUG){if(d.indexOf("|")>=0){var e=d.split("|");d="";for(var f=0;f<e.length;++f)d+=a[e[f]]}else d=a[d]||d;b.log.apply(this,"%c"+c,d)}},console.cstyle=a}(),function(){Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.prototype||a.constructor&&a.constructor.prototype||Object.prototype}),Object.isPlainObject||(Object.isPlainObject=function(a){return null!==a&&"object"==typeof a&&Object.getPrototypeOf(a)==Object.prototype}),Object.extend||(Object.extend=function(a,b,c){a||(a={}),b||(b={});for(var d in b)void 0!==b[d]&&(c&&"object"==typeof a[d]?Object.extend(a[d],b[d],c):a[d]=b[d]);return a})}(),function(){"use strict";String.prototype.format=function(a){var b=this;if(arguments.length>0){var c;if(1==arguments.length&&"object"==typeof a)for(var d in a)void 0!==a[d]&&(c=new RegExp("({"+d+"})","g"),b=b.replace(c,a[d]));else for(var e=0;e<arguments.length;e++)void 0!==arguments[e]&&(c=new RegExp("({["+e+"]})","g"),b=b.replace(c,arguments[e]))}return b},String.prototype.isNum=function(a){if(null!==a){var b,c;return c=/\d*/i,b=a.match(c),b==a?!0:!1}return!1},String.prototype.startWith=function(a){return 0===this.indexOf(a)},String.prototype.endWith=function(a){var b=this.length-a.length;return b>=0&&this.lastIndexOf(a)==b},String.prototype.upperCaseFirstLetter=function(){return this.length>1?this.substring(0,1).toUpperCase()+this.substring(1):this.toUpperCase()},String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(a,"gm"),b)},String.prototype.trim||(String.prototype.trim=function(){var a=/^\s*(.*?)\s+$/;return this.replace(a,"$1")}),String.prototype.encodeHtml=function(){return this.replace(/&/g,"&").replace(/\"/g,'"').replace(/</g,"<").replace(/>/g,">")},String.prototype.isURL=function(){var a=/^\b(((https?|ftp):\/\/)?[-a-z0-9]+(\.[-a-z0-9]+)*\.(?:com|edu|gov|int|mil|net|org|biz|info|name|museum|asia|coop|aero|[a-z][a-z]|((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|\d))\b(\/[-a-z0-9_:\@&?=+,.!\/~%\$]*)?)$/i;return a.test(this)?!0:!1},String.prototype.version2Number=function(){var a=this;a=a.split(".",3);for(var b="",c=0;c<a.length;c++){for(var d=a[c];d.length<4;)d+="0";b+=d}for(;b.length<12;)b+="0";return parseInt(b)}}(),function(){"use strict";Array.prototype.forEach||(Array.prototype.forEach=function(a){var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c=arguments[1],d=0;b>d;d++)d in this&&a.call(c,this[d],d,this)}),Array.each||(Array.prototype.each=function(a){var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c,d=arguments[1],e=0;b>e&&!(e in this&&(c=a.call(d,this[e],e,this),c===!1));e++);}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.toString.call(a)}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){var b=this.length,c=Number(arguments[1]);for(isNaN(c)?c=b-1:(c=0>c?Math.ceil(c):Math.floor(c),0>c?c+=b:c>=b&&(c=b-1));c>-1;c--)if(c in this&&this[c]===a)return c;return-1}),Array.prototype.every||(Array.prototype.every=function(a){var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c=arguments[1],d=0;b>d;d++)if(d in this&&!a.call(c,this[d],d,this))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(a){var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c=[],d=arguments[1],e=0;b>e;e++)if(e in this){var f=this[e];a.call(d,f,e,this)&&c.push(f)}return c}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),Array.prototype.map||(Array.prototype.map=function(a){var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c=new Array(b),d=arguments[1],e=0;b>e;e++)e in this&&(c[e]=a.call(d,this[e],e,this));return c}),Array.prototype.where=function(a,b){b=b||[];var c,d,e;return this.forEach(function(f){d=!0;for(var g in a)if(c=a[g],"function"==typeof c?d=c(f):(e=f[g],d=e&&e===c),!d)break;d&&b.push(f)}),b},Array.prototype.groupBy=function(a){var b={};return this.forEach(function(c){var d=c[a];d||(d="unkown"),b[d]||(b[d]=[]),b[d].push(c)}),b},Array.prototype.has=function(a){var b,c,d,e=!1;return this.forEach(function(f){c=!0;for(var g in a)if(b=a[g],"function"==typeof b?c=b(f):(d=f[g],c=d&&d===b),!c)break;return c?(e=!0,!1):void 0}),e}}(),function(){"use strict";Date.ONEDAY_TICKS=864e5,Date.WEEKDAY_NAMES=["周一","周二","周三","周四","周五","周六","周日"],Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};/(y+)/i.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},Date.prototype.friendlyStr=function(){var a,b=this,c=new Date,d=b.getFullYear(),e=b.getMonth()+10,f=b.getDate(),g=b.getHours(),h=b.getMinutes(),i=c.getFullYear(),j=c.getHours();if(i>d)a=d+"年"+e+"月"+f+"日 "+g+":"+h;else{var k=c-b,l=k/36e5;if(l>j)a=e+"月"+f+"日 "+g+":"+h;else if(l>=1)a="今天 "+g+":"+h+"分";else{var m=c.getMinutes()-h;a=m>1?m+"分钟前":"刚刚"}}return a},Date.prototype.getDayName=function(a){return a=a||Date.WEEKDAY_NAMES,a[this.getDay()]},Date.prototype.addMilliseconds=function(a){return this.setTime(this.getTime()+a),this},Date.prototype.addDays=function(a){return this.addMilliseconds(a*Date.ONEDAY_TICKS),this},Date.prototype.clone=function(){var a=new Date;return a.setTime(this.getTime()),a},Date.isLeapYear=function(a){return a%4===0&&a%100!==0||a%400===0},Date.getDaysInMonth=function(a,b){return[31,Date.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},Date.prototype.isLeapYear=function(){return Date.isLeapYear(this.getFullYear())},Date.parseName=function(a){var b=new Date;switch(a){case"now":break;case"today":b.clearTime();break;case"yestoday":b.clearTime().addDays(-1);break;case"thisweek":b=b.getLastWeekday();break;case"lastweek":b=b.getLastWeekday().addDays(-7);break;case"thisyear":b.clearTime(),b.setMonth(1),b.setDate(1)}return b},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.addMonths=function(a){var b=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+a),this.setDate(Math.min(b,this.getDaysInMonth())),this},Date.prototype.getLastWeekday=function(a){a=a||1;for(var b=this.clone();b.getDay()!=a;)b.addDays(-1);return b.clearTime(),b},Date.prototype.isSameDay=function(a){return a.toDateString()===this.toDateString()},Date.prototype.isSameWeek=function(a){var b=this.getLastWeekday(),c=b.clone().addDays(7);return a>=b&&c>a},Date.prototype.isSameYear=function(a){return this.getFullYear()===a.getFullYear()}}(),function(){"use strict";var a=function(){this.eventDrawer={}};a.getEventName=function(a){var b=a.indexOf(".");return b>0?a.substr(0,b):a},a.prototype.trigger=function(b,c,d){var e,f=a.getEventName(b),g=this.eventDrawer[f];if(g)for(var h,i=0;i<g.length;++i)h=g[i],(b===h.name||h.name.startWith(b+"."))&&(e=d?h.fn.call(d,c):h.fn(c));return e},a.prototype.off=function(b){var c=a.getEventName(b),d=this.eventDrawer[c];if(d)for(var e,f=d.length-1;f>=0;f--)e=d[f],(b===e.name||e.name.startWith(b+"."))&&d.splice(f,1);return this},a.prototype.on=function(b,c){var d=a.getEventName(b);return this.eventDrawer[d]||(this.eventDrawer[d]=[]),this.eventDrawer[d].push({name:b,fn:c}),this},window.EventDrawer=a}(),function(a){if(this.JSON&&!this.JSON.dateParser){var b=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.{0,1}\d*))(?:Z|(\+|-)([\d|:]*))?$/,c=/^\/Date\((d|-|.*)\)[\/|\\]$/;JSON.parseMsAjaxDate=!1,JSON.useDateParser=function(b){b!==a?JSON._parseSaved&&(JSON.parse=JSON._parseSaved,JSON._parseSaved=null):JSON._parseSaved||(JSON._parseSaved=JSON.parse,JSON.parse=JSON.parseWithDate)};var d=function(d){return function(e,f){var g=f;if("string"==typeof f){var h=b.exec(f);if(h)g=new Date(f);else if(JSON.parseMsAjaxDate&&(h=c.exec(f))){var i=h[1].split(/[-+,.]/);g=new Date(i[0]?+i[0]:0-+i[1])}}return d!==a?d(e,g):g}};JSON.dateParser=d(),JSON.parseWithDate=function(a,b){var c=JSON._parseSaved?JSON._parseSaved:JSON.parse;try{var e=c(a,d(b));return e}catch(f){throw new Error("JSON content could not be parsed")}},JSON.dateStringToDate=function(a,d){if(d||(d=null),!a)return d;if(a.getTime)return a;('"'===a[0]||"'"===a[0])&&(a=a.substr(1,a.length-2));var e=b.exec(a);if(e)return new Date(a);if(!JSON.parseMsAjaxDate)return d;if(e=c.exec(a)){var f=e[1].split(/[-,.]/);return new Date(+f[0])}return d}}}(),function(){JSON.useDateParser();var a="localStorage",b=window[a],c=window.store,d=function(){this.slience=!0,this.enable=a in window&&window[a]&&window[a].setItem,this.storage=b};d.prototype.setStorage=function(a){return a&&a.getLength&&(this.enable=!0,b=a,this.storage=a),this},d.prototype.check=function(){if(!this.enable&&!this.slience)throw new Error("Your browser not support localStorage or enable status been set true.");return this.enable},d.prototype.length=function(){return this.check()?b.getLength?b.getLength():b.length:0},d.prototype.removeItem=function(a){return b.removeItem(a),this},d.prototype.remove=function(a){return this.removeItem(a)},d.prototype.getItem=function(a){return b.getItem(a)},d.prototype.get=function(a,b){var c=this.deserialize(this.getItem(a));return void 0===b||"undefined"!=typeof c&&null!==c&&void 0!==c?c:b},d.prototype.key=function(a){return b.key(a)},d.prototype.setItem=function(a,c){return b.setItem(a,c),this},d.prototype.set=function(a,b){return void 0===b?this.remove(a):(this.setItem(a,this.serialize(b)),this)},d.prototype.clear=function(){return b.clear(),this},d.prototype.forEach=function(a){for(var c=b.length-1;c>=0;c--){var d=b.key(c);a(d,this.get(d))}return this},d.prototype.getAll=function(){var a={};return this.forEach(function(b,c){a[b]=c}),a},d.prototype.serialize=function(a){return"string"==typeof a?a:JSON.stringify(a)},d.prototype.deserialize=function(a){if("string"!=typeof a)return void 0;try{return JSON.parse(a)}catch(b){return a||void 0}},window.store||(window.store=new d),window.store.noConflict=function(){return window.store=c,window.store}}(),function(){"use strict";var a=Array.prototype.forEach;if(window.data={},window.uuid=function(){for(var a=(new Date).getTime();1e16>a;)a*=10;return a+Math.floor(9999*Math.random())},window.preventDefault=function(a){a.preventDefault()},window.stopPropagation=function(a){a.stopPropagation()},NodeList.prototype.forEach=a,window.on=function(a,b){return this.addEventListener(a,b,!1),this},HTMLCollection.prototype.on=NodeList.prototype.on=function(b,c){return a.call(this,function(a){a.on(b,c)}),this},!window.CustomEvent){var b=function(a,b){b=b||{cancelable:!1,detail:void 0};var c=document.createEvent("HTMLEvents"),d=!0;if(b)for(var e in b)"bubbles"===e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0),this.stopPropagation||(this.stopPropagation=function(){window.event.cancelBubble=!0}),c};b.prototype=window.Event.prototype,window.CustomEvent=b}window.trigger=function(a,b,c){"string"==typeof a&&(b=a,c=b,a=window);var d=new window.CustomEvent(b,{detail:c,bubbles:!0,cancelable:!0});return a.dispatchEvent(d),a},Node.prototype.trigger=function(a,b){window.trigger(this,a,b)},NodeList.prototype.trigger=function(b){return a.call(this,function(a){a.trigger(b)}),this};var c=document.createElement("div"),d=["moz","webkit","ms","o"].filter(function(a){return a+"MatchesSelector"in c})[0]+"MatchesSelector";document.on=Element.prototype.on=Element.prototype.addDelegateListener=function(a,b,c){return"function"==typeof b?this.addEventListener(a,b,!1):"function"==typeof c&&this.addEventListener(a,function(a){for(var e=a.target;e&&e!==this&&!e[d](b);)e=e.parentNode;return e&&e!==this?c.call(e,a):void 0},!1),this.removeEventListener("click.touchable",window.preventDefault),this.addEventListener("click.touchable",window.preventDefault),this},window.getViewport=function(){return"BackCompat"==document.compatMode?{width:document.body.clientWidth,height:document.body.clientHeight}:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},window.getScrollLeft=function(){return"BackCompat"==document.compatMode?document.body.scrollLeft:document.documentElement.scrollLeft},window.getScrollTop=function(){return"BackCompat"==document.compatMode?document.body.scrollTop:document.documentElement.scrollTop},window.getScrollPosition=function(){return"BackCompat"==document.compatMode?{x:document.body.scrollLeft,y:document.body.scrollTop}:{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}},window.scrollToSmooth=function(a,b,c){b=b||1e3;var d=function(b){if(0>=b)return void(c&&c());var e=a-window.scrollY;setTimeout(function(){window.scrollTo(0,window.scrollY+e/b*10),d(b-10)},16.7)};d(b)},Element.prototype.getPageLeft=function(){for(var a=this.offsetLeft,b=this.offsetParent;null!==b;)a+=b.offsetLeft,b=b.offsetParent;return a},Element.prototype.getPageTop=function(){for(var a=this.offsetTop,b=this.offsetParent;null!==b;)a+=b.offsetTop,b=b.offsetParent;return a},Element.prototype.getPageOffset=function(){for(var a={top:this.offsetTop,left:this.offsetLeft},b=this.offsetParent;null!==b;)a.top+=b.offsetTop,a.left+=b.offsetLeft,b=b.offsetParent;return a},Element.prototype.getViewLeft=function(){return this.getPageLeft()-window.getScrollLeft()},Element.prototype.getViewTop=function(){return this.getPageTop()-window.getScrollTop()},Element.prototype.getViewOffset=function(){var a=this.getPageOffset();return a.top-=window.getScrollTop(),a.left-=window.getScrollLeft(),a},Element.prototype.getStyles=function(a){var b=this.ownerDocument.defaultView.getComputedStyle(this,null);return a?b.getPropertyValue(a)||b[a]:b};var e=/complete|loaded|interactive/;document.ready=function(a){e.test(document.readyState)?a():document.addEventListener("DOMContentLoaded",function(){a()},!1)},document.$id=function(a,b){return(b||document).getElementById(a)},document.$class=function(a,b){return(b||document).getElementsByClassName(a)},document.$tag=function(a,b){return(b||document).getElementsByTagName(a)};var f=/^#([\w-]*)$/,g=/^\.([\w-]+)$/,h=/^[\w-]+$/;document.$=function(a,b){if(f.test(a))return document.getElementById(RegExp.$1);b=b||document;var c=g.test(a)?b.getElementsByClassName(RegExp.$1):h.test(a)?b.getElementsByTagName(a):b.querySelectorAll(a);return c&&1==c.length?c[0]:c},Node.prototype.$=function(a){return document.$(a,this)};var i=function(){return!1};document.addEventListener("touchstart",i,!1),document.oncontextmenu=i}(),function(a){var b="touchstart",c="touchmove",d="touchend",e="touchcancel",f="click";a.gestureConfig||(a.gestureConfig={tap:!0,doubletap:!1,longtap:!1,flick:!0,swipe:!0,drag:!0});var g=[],h=function(a){return a.index=a.index||1e3,g.push(a),g.sort(function(a,b){return a.index-b.index}),g},i=function(a,b){var c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)},j=function(a,b){return 180*Math.atan2(b.y-a.y,b.x-a.x)/Math.PI},k=function(a){return-45>a&&a>-135?"up":a>=45&&135>a?"down":a>=135||-135>=a?"left":a>=-45&&45>=a?"right":null},l=function(b,c){g.stoped||g.forEach(function(d){g.stoped||a.gestureConfig[d.name]!==!1&&d.hasOwnProperty("handle")&&d.handle(b,c)})},m={},n=function(a){g.stoped=!1;var b=Date.now(),c=a.touches?a.touches[0]:a;m={target:a.target,lastTarget:m.lastTarget?m.lastTarget:null,startTime:b,touchTime:0,flickStartTime:b,lastTapTime:m.lastTapTime?m.lastTapTime:0,start:{x:c.pageX,y:c.pageY},flickStart:{x:c.pageX,y:c.pageY},flickDistanceX:0,flickDistanceY:0,move:{x:0,y:0},deltaX:0,deltaY:0,lastDeltaX:0,lastDeltaY:0,angle:"",direction:"",distance:0,drag:!1,swipe:!1,gesture:a},l(a,m)},o=function(a){if(!g.stoped){var b=Date.now(),c=a.touches?a.touches[0]:a;m.touchTime=b-m.startTime,m.move={x:c.pageX,y:c.pageY},b-m.flickStartTime>300&&(m.flickStartTime=b,m.flickStart=m.move),m.distance=i(m.start,m.move),m.angle=j(m.start,m.move),m.direction=k(m.angle),m.lastDeltaX=m.deltaX,m.lastDeltaY=m.deltaY,m.deltaX=m.move.x-m.start.x,m.deltaY=m.move.y-m.start.y,m.gesture=a,l(a,m)}},p=function(a){if(!g.stoped){var b=Date.now();m.touchTime=b-m.startTime,m.flickTime=b-m.flickStartTime,m.flickDistanceX=m.move.x-m.flickStart.x,m.flickDistanceY=m.move.y-m.flickStart.y,m.gesture=a,l(a,m)}};a.addEventListener(b,n),a.addEventListener(c,o),a.addEventListener(d,p),a.addEventListener(e,p),a.addEventListener(f,a.preventDefault),h({name:"flick",index:5,options:{flickMaxTime:300,flickMinDistince:10},handle:function(b,c){if(b.type===d||b.type===e){var f=this.options;c.direction&&f.flickMaxTime>c.flickTime&&c.distance>f.flickMinDistince&&(c.flick=!0,a.trigger(b.target,"flick",c),a.trigger(b.target,"flick"+c.direction,c))}}}),h({name:"swipe",index:10,options:{swipeMaxTime:300,swipeMinDistince:18},handle:function(b,c){if(b.type===d||b.type===e){var f=this.options;c.direction&&f.swipeMaxTime>c.touchTime&&c.distance>f.swipeMinDistince&&(c.swipe=!0,a.trigger(b.target,"swipe"+c.direction,c))}}}),h({name:"drag",index:20,options:{},handle:function(b,f){switch(b.type){case c:f.direction&&(f.drag||(f.drag=!0,a.trigger(b.target,"dragstart",f)),a.trigger(b.target,"drag",f),a.trigger(b.target,"drag"+f.direction,f));break;case d:case e:f.drag&&a.trigger(b.target,"dragend",f)}}}),h({name:"tap",index:30,options:{tapMaxInterval:300,tapMaxDistance:5,tapMaxTime:250},handle:function(b,c){if(b.type===d){var e=this.options;if(c.distance<e.tapMaxDistance&&c.touchTime<e.tapMaxTime){if(a.gestureConfig.doubletap&&c.lastTarget&&c.lastTarget===b.target&&c.lastTapTime&&c.startTime-c.lastTapTime<e.tapMaxInterval)return a.trigger(b.target,"doubletap",c),c.lastTapTime=Date.now(),void(c.lastTarget=b.target);a.trigger(b.target,"tap",c),c.lastTapTime=Date.now(),c.lastTarget=b.target}}}}),h({name:"longtap",index:10,options:{holdTimeout:500,holdThreshold:2},handle:function(f,g){var h=this.options;switch(f.type){case b:clearTimeout(timer),timer=setTimeout(function(){g.drag||a.trigger(f.target,"longtap",g)},h.holdTimeout);break;case c:g.distance>h.holdThreshold&&clearTimeout(timer);break;case d:case e:clearTimeout(timer)}}})}(window),function(){"use strict";var a,b=0,c=function(){};c.prototype.getXhr=function(){return a},c.prototype.send=function(c,d,e,f){this.debug&&console.groupCollapsed("%cHTTP["+(b+1)+"] "+c+": "+d,"color: blue; border-left: 10px solid blue; padding-left: 5px; font-size: 16px; font-weight: bold; background-color: lightblue;");var g=++b;this.working=g,a=window.plus?new window.plus.net.XMLHttpRequest:new XMLHttpRequest;var h=this,i=/^([\w-]+:)\/\//.test(d)?RegExp.$1:window.location.protocol;return this.debug&&console.log("XMLHttpRequest["+g+"]:",a),this.debug&&this.debug<2&&console.groupEnd(),a.onreadystatechange=function(){h.debug>1&&console.log("readyState["+g+"]:",a.readyState,", status:",a.status),4===a.readyState&&(a.status>=200&&a.status<300||304===a.status||0===a.status&&"file:"===i?(console.group("responseText["+g+"]"),console.log("%c"+a.responseText,"color:blue; margin: 3px 0; padding:2px 5px; background: #fafafa"),console.groupEnd(),console.groupCollapsed("ResponseHeaders["+g+"]"),console.log(a.getAllResponseHeaders()),console.groupEnd(),console.groupEnd(),h.working===g&&(h.working=!1),e&&e(a.responseText,a)):(h.debug&&console.groupEnd(),h.working===g&&(h.working=!1),f&&f(a)))},a.open(c,d,!0),a.send(),a},c.prototype.get=function(a,b,c){return this.send("GET",a,b,c)},c.prototype.getJSON=function(a,b,c){return this.get(a,function(a,d){var e,f=!0;try{e=JSON.parse(a)}catch(g){f=!1,console.error("%cWrong json string:"+a,"color: red; font-weight: bold;")}f?b(e,a,d):c&&c(a,d)},c)},c.prototype.post=function(a,b,c){return this.send("POST",a,b,c)},window.http=new c}(),function(){"use strict";window.plusReady||(window.plusReady=function(a){return window.plus?a():document.addEventListener("plusready",function(){a()},!1),window}),window.fire||(window.fire=function(a,b,c){if(window.data=c,a){var d="window.receive&&window.receive('"+b+"','"+JSON.stringify(c||{}).replace(/'/g,"\\'")+"')";a.evalJS(d)}},window.receive=function(a,b){a&&(b=JSON.parse(b),window.trigger(window,a,b))}),window.currentWebview||window.plusReady(function(){window.currentWebview=window.plus.webview.currentWebview()}),window.openWebview||(window.openWebview=function(a,b){return b=Object.extend({waiting:!0,aniType:"auto",duration:200},b),b.waiting&&(b.waiting===!0?b.waiting={title:""}:"string"==typeof b.waiting&&(b.waiting={title:b.waiting}),a.waitingWindow=plus.nativeUI.showWaiting(b.title,b.options)),a.addEventListener("loaded",function(){b.waiting&&a.waitingWindow.close(),a.show(b.aniType,b.duration,b.callback)}),a},window.openWindow=function(a,b){var c;return"string"==typeof a&&(c=plus.webview.getWebviewById(a),c||(a={url:a,id:a})),c||(c=plus.webview.create(a.url,a.id||a.url,a.styles,a.extras),void 0===b&&(b={},b.waiting=a.waiting,b.aniType=a.aniType,b.duration=a.duration)),window.openWebview(c,b)})}(),function(a){"use strict";var b="plus-pullrefresh",c="content",d="in",e="."+c,f={down:{height:50,contentdown:"下拉可以刷新",contentover:"释放立即刷新",contentrefresh:"正在刷新..."},up:{contentdown:"上拉显示更多",contentrefresh:"正在加载..."}},g=function(a){a=Object.extend(f,a,!0),this.downOptions=a.down,this.upOptions=a.up,this.downOptions&&this.downOptions.hasOwnProperty("callback")&&this.initPulldownRefresh(),this.upOptions&&this.upOptions.hasOwnProperty("callback")&&this.initPullupRefresh()};g.prototype.initPulldownRefresh=function(){var a=this,b=window.plus.webview.currentWebview();b.setPullToRefresh({support:!0,height:a.downOptions.height+"px",range:"200px",contentdown:{caption:a.downOptions.contentdown},contentover:{caption:a.downOptions.contentover},contentrefresh:{caption:a.downOptions.contentrefresh}},function(){a.downOptions.callback&&a.downOptions.callback.call(a)})},g.prototype.initPullupRefresh=function(){var b=this,c=a.querySelector(e);c&&(b.bottomPocket=a.createElement("div"),b.bottomPocket.className="pull-bottom-pocket",b.bottomPocket.innerHTML='<div class="pull"><div class="pull-loading preloader"></div><div class="pull-caption">'+b.upOptions.contentdown+"</div></div>",c.appendChild(b.bottomPocket),b.pullLoading=b.bottomPocket.querySelector(".pull-loading"),b.pullCaption=b.bottomPocket.querySelector(".pull-caption"),b.isLoading=!1,a.addEventListener("plusscrollbottom",b))},g.prototype.handleEvent=function(a){if("plusscrollbottom"===a.type){var b=this;if(b.isLoading)return;b.isLoading=!0,setTimeout(function(){b.pullLoading.classList.add(d),b.pullCaption.innerHTML="",b.pullCaption.innerHTML=b.upOptions.contentrefresh;var a=b.upOptions.callback;a&&a.call(b)},300)}},g.prototype.endPulldownToRefresh=function(){window.currentWebview.endPullToRefresh()},g.prototype.endPullupToRefresh=function(b){this.pullLoading&&(this.pullLoading.classList.remove(d),this.pullCaption.innerHTML=this.upOptions.contentdown,this.isLoading=!1,b&&(this.bottomPocket.classList.add("hidden"),a.removeEventListener("plusscrollbottom",this)))},window.pullRefresh=function(c){window.plusReady(function(){var d=a.body,e=d.getAttribute("data-pullrefresh-plus");e||(d.classList.add(b),e=window.uuid(),window.data[e]=new g(c),d.setAttribute("data-pullrefresh-plus",e))})}}(document),function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=null,s=function(a){if(null===r){var b=document.body.getAttribute("data-slider");r=b?document.querySelector(b):!1}if(r)return r;for(var c,d=document.getElementsByClassName("slider");a&&a!==document;a=a.parentNode)for(c=d.length;c--;)if(d[c]===a)return a},t=function(a,b){if(!b)return null;for(var c,d=b.querySelectorAll(".control-item");a&&a!==document;a=a.parentNode)for(c=d.length;c--;)if(d[c]===a)return a},u=function(){if("webkitTransform"in d.style){var a=d.style.webkitTransform.match(/translate3d\(([^,]*)/),b=a?a[1]:0;return parseInt(b,10)}},v=function(a){var b=a?0>g?"ceil":"floor":"round";n=Math[b](u()/(p/d.children.length)),n+=a,n=Math.min(n,0),n=Math.max(-(d.children.length-1),n)},w=function(i){if(c=s(i.target)){d=c.querySelector(".slide-group"),e=c.querySelector(".segmented-control"),f=t(i.target,e);var n=d.querySelector(".slide");p=n.offsetWidth*d.children.length,o=void 0,m=d.offsetWidth,l=1,j=-(d.children.length-1),k=+new Date,a=i.touches[0].pageX,b=i.touches[0].pageY,g=0,h=0,v(0),d.style["-webkit-transition-duration"]=0}},x=function(e){f||e.touches.length>1||!c||(q||(a+=e.touches[0].pageX-a-1),g=e.touches[0].pageX-a,h=e.touches[0].pageY-b,a=e.touches[0].pageX,b=e.touches[0].pageY,"undefined"==typeof o&&q&&(o=Math.abs(h)>Math.abs(g)),o||(i=g/l+u(),e.preventDefault(),l=0===n&&g>0?a/m+1.25:n===j&&0>g?Math.abs(a)/m+1.25:1,d.style.webkitTransform="translate3d("+i+"px,0,0)",q=!0))},y=function(a){if(c&&!o){if(q=!1,f){var b=f.getAttribute("href").substr(1),h=d.children.length;n=0;for(var j=h-1;j>=0;j--)if(d.children[j].getAttribute("id")===b){n=0-j;break}}else v(+new Date-k<1e3&&Math.abs(g)>15?0>g?-1:1:0);if(i=n*m,d.style["-webkit-transition-duration"]=".2s",d.style.webkitTransform="translate3d("+i+"px,0,0)",a=new CustomEvent("slide",{detail:{slideNumber:Math.abs(n)},bubbles:!0,cancelable:!0}),d.parentNode.dispatchEvent(a),e){var l=d.querySelector(".control-content.active");l&&l.classList.remove("active");var p=d.children[0-n];p.classList.add("active");var r=e.querySelector(".control-item.active");r&&r.classList.remove("active");for(var s,t="#"+p.getAttribute("id"),u=e.children.length,w=u-1;w>=0;w--)s=e.children[w],s.getAttribute("href")===t&&s.classList.add("active")}}};window.addEventListener("touchstart",w),window.addEventListener("touchmove",x),window.addEventListener("touchend",y)}(),function(){"use strict";var a=function(a){for(var b,c=document.querySelectorAll(".segmented-control .control-item");a&&a!==document;a=a.parentNode)for(b=c.length;b--;)if(c[b]===a)return a};window.addEventListener("touchend",function(b){var c,d,e,f=a(b.target),g="active",h="."+g;if(f&&(c=f.parentNode.querySelector(h),c&&c.classList.remove(g),f.classList.add(g),f.hash&&(e=document.querySelector(f.hash)))){d=e.parentNode.querySelectorAll(h);for(var i=0;i<d.length;i++)d[i].classList.remove(g);e.classList.add(g)}}),window.addEventListener("click",function(b){a(b.target)&&b.preventDefault()})}(),!function(){"use strict";var a={},b=!1,c=!1,d=!1,e=function(a){for(var b,c=document.querySelectorAll(".toggle");a&&a!==document;a=a.parentNode)for(b=c.length;b--;)if(c[b]===a)return a};window.addEventListener("touchstart",function(c){if(c=c.originalEvent||c,d=e(c.target)){var f=d.querySelector(".toggle-handle"),g=d.clientWidth,h=f.clientWidth,i=d.classList.contains("active")?g-h:0;a={pageX:c.touches[0].pageX-i,pageY:c.touches[0].pageY},b=!1}}),window.addEventListener("touchmove",function(e){if(e=e.originalEvent||e,!(e.touches.length>1)&&d){var f=d.querySelector(".toggle-handle"),g=e.touches[0],h=d.clientWidth,i=f.clientWidth,j=h-i;if(b=!0,c=g.pageX-a.pageX,!(Math.abs(c)<Math.abs(g.pageY-a.pageY))){if(e.preventDefault(),0>c)return f.style.webkitTransform="translate3d(0,0,0)";if(c>j)return f.style.webkitTransform="translate3d("+j+"px,0,0)";f.style.webkitTransform="translate3d("+c+"px,0,0)",d.classList[c>h/2-i/2?"add":"remove"]("active")}}}),window.addEventListener("touchend",function(a){if(d){var e=d.querySelector(".toggle-handle"),f=d.clientWidth,g=e.clientWidth,h=f-g,i=!b&&!d.classList.contains("active")||b&&c>f/2-g/2;e.style.webkitTransform=i?"translate3d("+h+"px,0,0)":"translate3d(0,0,0)",d.classList[i?"add":"remove"]("active"),a=new CustomEvent("toggle",{detail:{isActive:i},bubbles:!0,cancelable:!0}),d.dispatchEvent(a),b=!1,d=!1}})}();