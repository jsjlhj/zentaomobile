/*!
 * ZUI for mobile - v0.1.0-beta - 2014-10-10
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2014 cnezsoft.com; Licensed MIT
 */

/* Some code copy from ratchet v2.0.2 (Copyright (c) 2014 connors and other contributors. Licensed under http://www.apache.org/licenses/)*/

!function(){"use strict";var a={h1:"font-size: 28px; font-weight: bold;",h2:"font-size: 24px; font-weight: bold;",h3:"font-size: 20px; font-weight: bold;",h4:"font-size: 16px; font-weight: bold;",h5:"font-size: 14px; font-weight: bold;",h6:"font-size: 12px; font-weight: bold;",success:"color: green; border-left: 10px solid green; padding-left: 5px;",danger:"color: red; border-left: 10px solid red; padding-left: 5px;",warning:"color: orange; border-left: 10px solid orange; padding-left: 5px;",info:"color: blue; border-left: 10px solid blue; padding-left: 5px;",muted:"color: gray; border-left: 10px solid gray; padding-left: 5px;",u:"text-decoration: underline;",bd:"border: 1px solid #ddd",bgsuccess:"color: #fff; background: green; padding: 2px 5px;",bgdanger:"color: #fff; background: red; padding: 2px 5px;",bgwarning:"color: #fff; background: orange; padding: 2px 5px;",bginfo:"color: #fff; background: blue; padding: 2px 5px;",bgmuted:"color: #fff; background: gray; padding: 2px 5px;",bdsuccess:"border:1px solid green;",bddanger:"border:1px solid red;",bdwarning:"border:1px solid orange;",bdinfo:"border:1px solid blue;",bdmuted:"border:1px solid gray;",strong:"font-weight: bold;",small:"font-size: 0.85em"};window.consolelog=function(b,c){if(c.indexOf("|")>=0){var d=c.split("|");c="";for(var e=0;e<d.length;++e)c+=a[d[e]]}else c=a[c]||c;console.log("%c"+b,c)},console.prototype.color=window.consolelog,console.prototype.cstyle=a}(),function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}"function"==typeof define&&define.amd?define(function(){return t}):a.md5=t}(this),function(){Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__||a.prototype||a.constructor&&a.constructor.prototype||Object.prototype}),Object.isPlainObject||(Object.isPlainObject=function(a){return null!=a&&"object"==typeof a&&Object.getPrototypeOf(a)==Object.prototype})}(),function(){"use strict";String.prototype.format=function(a){var b=this;if(arguments.length>0){var c;if(1==arguments.length&&"object"==typeof a)for(var d in a)void 0!=a[d]&&(c=new RegExp("({"+d+"})","g"),b=b.replace(c,a[d]));else for(var e=0;e<arguments.length;e++)void 0!=arguments[e]&&(c=new RegExp("({["+e+"]})","g"),b=b.replace(c,arguments[e]))}return b},String.prototype.isNum=function(a){if(null!=a){var b,c;return c=/\d*/i,b=a.match(c),b==a?!0:!1}return!1},String.prototype.startWith=function(a){return 0===this.indexOf(a)},String.prototype.endWith=function(a){var b=this.length-a.length;return b>=0&&this.lastIndexOf(a)==b},String.prototype.upperCaseFirstLetter=function(){return this.length>1?this.substring(0,1).toUpperCase()+this.substring(1):this.toUpperCase()},String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(a,"gm"),b)},String.prototype.trim=function(){var a=/^\s*(.*?)\s+$/;return this.replace(a,"$1")},String.prototype.encodeHtml=function(){return this.replace(/&/g,"&").replace(/\"/g,'"').replace(/</g,"<").replace(/>/g,">")},String.prototype.isURL=function(){var a=/^\b(((https?|ftp):\/\/)?[-a-z0-9]+(\.[-a-z0-9]+)*\.(?:com|edu|gov|int|mil|net|org|biz|info|name|museum|asia|coop|aero|[a-z][a-z]|((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|\d))\b(\/[-a-z0-9_:\@&?=+,.!\/~%\$]*)?)$/i;return a.test(this)?!0:!1},String.prototype.version2Number=function(){var a=this;a=a.split(".",3);for(var b="",c=0;c<a.length;c++){for(var d=a[c];d.length<4;)d+="0";b+=d}for(;b.length<12;)b+="0";return parseInt(b)}}(),function(){"use strict";Array.prototype.forEach||(Array.prototype.forEach=function(a){var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c,d=arguments[1],e=0;b>e&&!(e in this&&(c=a.call(d,this[e],e,this),c===!1));e++);}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.toString.call(a)}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){var b=this.length,c=Number(arguments[1]);for(isNaN(c)?c=b-1:(c=0>c?Math.ceil(c):Math.floor(c),0>c?c+=b:c>=b&&(c=b-1));c>-1;c--)if(c in this&&this[c]===a)return c;return-1}),Array.prototype.every||(Array.prototype.every=function(a){var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c=arguments[1],d=0;b>d;d++)if(d in this&&!a.call(c,this[d],d,this))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(a){var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c=new Array,d=arguments[1],e=0;b>e;e++)if(e in this){var f=this[e];a.call(d,f,e,this)&&c.push(f)}return c}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),Array.prototype.map||(Array.prototype.map=function(a){var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c=new Array(b),d=arguments[1],e=0;b>e;e++)e in this&&(c[e]=a.call(d,this[e],e,this));return c}),Array.prototype.where=function(a,b){b=b||[];var c,d,e;return this.forEach(function(f){d=!0;for(var g in a)if(c=a[g],"function"==typeof c?d=c(f):(e=f[g],d=e&&e===c),!d)break;d&&b.push(f)}),b},Array.prototype.groupBy=function(a){var b={};return this.forEach(function(c){var d=c[a];d||(d="unkown"),b[d]||(b[d]=[]),b[d].push(c)}),b},Array.prototype.has=function(a){var b,c,d,e=!1;return this.forEach(function(f){c=!0;for(var g in a)if(b=a[g],"function"==typeof b?c=b(f):(d=f[g],c=d&&d===b),!c)break;return c?(e=!0,!1):void 0}),e}}(),function(){"use strict";Date.ONEDAY_TICKS=864e5,Date.WEEKDAY_NAMES=["周一","周二","周三","周四","周五","周六","周日"],Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};/(y+)/i.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},Date.prototype.friendlyStr=function(){var a,b=this,c=new Date,d=b.getFullYear(),e=b.getMonth()+10,f=b.getDate(),g=b.getHours(),h=b.getMinutes(),i=c.getFullYear(),j=c.getHours();if(i>d)a=d+"年"+e+"月"+f+"日 "+g+":"+h;else{var k=c-b,l=k/36e5;if(l>j)a=e+"月"+f+"日 "+g+":"+h;else if(l>=1)a="今天 "+g+":"+h+"分";else{var m=c.getMinutes()-h;a=m>1?m+"分钟前":"刚刚"}}return a},Date.prototype.getDayName=function(a){return a=a||Date.WEEKDAY_NAMES,a[this.getDay()]},Date.prototype.addMilliseconds=function(a){return this.setTime(this.getTime()+a),this},Date.prototype.addDays=function(a){return this.addMilliseconds(a*Date.ONEDAY_TICKS),this},Date.prototype.clone=function(){var a=new Date;return a.setTime(this.getTime()),a},Date.isLeapYear=function(a){return a%4===0&&a%100!==0||a%400===0},Date.getDaysInMonth=function(a,b){return[31,Date.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},Date.prototype.isLeapYear=function(){return Date.isLeapYear(this.getFullYear())},Date.parseName=function(a){var b=new Date;switch(a){case"now":break;case"today":b.clearTime();break;case"yestoday":b.clearTime().addDays(-1);break;case"thisweek":b=b.getLastWeekday();break;case"lastweek":b=b.getLastWeekday().addDays(-7);break;case"thisyear":b.clearTime(),b.setMonth(1),b.setDate(1)}return b},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.addMonths=function(a){var b=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+a),this.setDate(Math.min(b,this.getDaysInMonth())),this},Date.prototype.getLastWeekday=function(a){a=a||1;for(var b=this.clone();b.getDay()!=a;)b.addDays(-1);return b.clearTime(),b},Date.prototype.isSameDay=function(a){return a.toDateString()===this.toDateString()},Date.prototype.isSameWeek=function(a){var b=this.getLastWeekday(),c=b.clone().addDays(7);return a>=b&&c>a},Date.prototype.isSameYear=function(a){return this.getFullYear()===a.getFullYear()}}(),function(a){function b(b){return function(e,f){var g=f;if("string"==typeof f){var h=c.exec(f);if(h)g=new Date(f);else if(JSON.parseMsAjaxDate&&(h=d.exec(f))){var i=h[1].split(/[-+,.]/);g=new Date(i[0]?+i[0]:0-+i[1])}}return b!==a?b(e,g):g}}if(this.JSON&&!this.JSON.dateParser){var c=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.{0,1}\d*))(?:Z|(\+|-)([\d|:]*))?$/,d=/^\/Date\((d|-|.*)\)[\/|\\]$/;JSON.parseMsAjaxDate=!1,JSON.useDateParser=function(b){b!=a?JSON._parseSaved&&(JSON.parse=JSON._parseSaved,JSON._parseSaved=null):JSON._parseSaved||(JSON._parseSaved=JSON.parse,JSON.parse=JSON.parseWithDate)},JSON.dateParser=b(),JSON.parseWithDate=function(a,c){var d=JSON._parseSaved?JSON._parseSaved:JSON.parse;try{var e=d(a,b(c));return e}catch(f){throw new Error("JSON content could not be parsed")}},JSON.dateStringToDate=function(a,b){if(b||(b=null),!a)return b;if(a.getTime)return a;('"'===a[0]||"'"===a[0])&&(a=a.substr(1,a.length-2));var e=c.exec(a);if(e)return new Date(a);if(!JSON.parseMsAjaxDate)return b;if(e=d.exec(a)){var f=e[1].split(/[-,.]/);return new Date(+f[0])}return b}}}(),function(){JSON.useDateParser();var a="localStorage",b=window[a],c=window.store,d=function(){this.slience=!0,this.enable=a in window&&window[a]&&window[a].setItem,this.storage=b};d.prototype.setStorage=function(a){return a&&a.getLength&&(this.enable=!0,b=a,this.storage=a),this},d.prototype.check=function(){if(!this.enable&&!this.slience)throw new Error("Browser not support localStorage or enable status been set true.");return this.enable},d.prototype.length=function(){return this.check()?b.getLength?b.getLength():b.length:0},d.prototype.removeItem=function(a){return b.removeItem(a),this},d.prototype.remove=function(a){return this.removeItem(a)},d.prototype.getItem=function(a){return b.getItem(a)},d.prototype.get=function(a,b){var c=this.deserialize(this.getItem(a));return void 0===b||"undefined"!=typeof c&&null!==c&&void 0!==c?c:b},d.prototype.key=function(a){return b.key(a)},d.prototype.setItem=function(a,c){return b.setItem(a,c),this},d.prototype.set=function(a,b){return void 0===b?this.remove(a):(this.setItem(a,this.serialize(b)),console.groupCollapsed("%cSTORE SET: "+a,"color: purple; border-left: 10px solid orange; padding-left: 5px;font-size: 14px; font-weight: bold;"),console.log(b),console.log("JSON:",this.serialize(b)),console.groupEnd(),this)},d.prototype.clear=function(){return b.clear(),this},d.prototype.forEach=function(a){for(var c=b.length-1;c>=0;c--){var d=b.key(c);a(d,this.get(d))}return this},d.prototype.getAll=function(){var a={};return this.forEach(function(b,c){a[b]=c}),a},d.prototype.serialize=function(a){return"string"==typeof a?a:JSON.stringify(a)},d.prototype.deserialize=function(a){if("string"!=typeof a)return void 0;try{return JSON.parse(a)}catch(b){return a||void 0}},window.store||(window.store=new d),window.store.noConflict=function(){return window.store=c,window.store}}(),function(){"use strict";var a=Array.prototype.forEach;NodeList.prototype.forEach=a,window.on=Node.prototype.on=function(a,b){return this.addEventListener(a,b,!1),this},NodeList.prototype.on=function(b,c){return a.call(this,function(a){a.on(b,c)}),this},window.trigger=Node.prototype.trigger=function(a,b){var c=document.createEvent("HTMLEvents");return c.initEvent(a,!0,!0),c.data=b||{},c.eventName=a,c.target=this,this.dispatchEvent(c),this},NodeList.prototype.trigger=function(b){return a.call(this,function(a){a.trigger(b)}),this};var b=document.createElement("div"),c=["moz","webkit","ms","o"].filter(function(a){return a+"MatchesSelector"in b})[0]+"MatchesSelector";Element.prototype.on=Element.prototype.addDelegateListener=function(a,b,d){return"function"==typeof b?this.addEventListener(event,b,!1):"function"==typeof d&&this.addEventListener(a,function(a){for(var e=a.target;e&&e!==this&&!e[c](b);)e=e.parentNode;return e&&e!==this?d.call(e,a):void 0},!1),this},window.getViewport=function(){return"BackCompat"==document.compatMode?{width:document.body.clientWidth,height:document.body.clientHeight}:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},window.getScrollLeft=function(){return"BackCompat"==document.compatMode?document.body.scrollLeft:document.documentElement.scrollLeft},window.getScrollTop=function(){return"BackCompat"==document.compatMode?document.body.scrollTop:document.documentElement.scrollTop},window.getScrollPosition=function(){return"BackCompat"==document.compatMode?{x:document.body.scrollLeft,y:document.body.scrollTop}:{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}},Element.prototype.getPageLeft=function(){for(var a=this.offsetLeft,b=this.offsetParent;null!==b;)a+=b.offsetLeft,b=b.offsetParent;return a},Element.prototype.getPageTop=function(){for(var a=this.offsetTop,b=this.offsetParent;null!==b;)a+=b.offsetTop,b=b.offsetParent;return a},Element.prototype.getPageOffset=function(){for(var a={top:this.offsetTop,left:this.offsetLeft},b=this.offsetParent;null!==b;)a.top+=b.offsetTop,a.left+=b.offsetLeft,b=b.offsetParent;return a},Element.prototype.getViewLeft=function(){return this.getPageLeft()-window.getScrollLeft()},Element.prototype.getViewTop=function(){return this.getPageTop()-window.getScrollTop()},Element.prototype.getViewOffset=function(){var a=this.getPageOffset();return a.top-=window.getScrollTop(),a.left-=window.getScrollLeft(),a}}();